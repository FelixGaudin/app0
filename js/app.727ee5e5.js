(function(t){function e(e){for(var n,s,a=e[0],l=e[1],c=e[2],d=0,h=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/app0/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"07c9":function(t,e,i){"use strict";i("e500")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"rows"},t._l(t.board,(function(e,n){return i("div",{key:n,staticClass:"cols"},t._l(e,(function(e,r){return i("a",{key:r,staticClass:"case-container",attrs:{href:"#"},on:{click:function(e){return t.pressed(n,r)}}},[i("Case",{attrs:{content:e,direction:t.get_direction()}})],1)})),0)})),0),i("div",{staticClass:"cols"},[i("button",{on:{click:t.togglePotter}},[void 0==t.potterPos&"potter"==t.currentAction?i("span",[t._v("Placement de Harry Potter (h)")]):void 0==t.potterPos?i("span",[t._v("Placer Harry Potter (h)")]):i("span",[t._v("Retirer Harry Potter (h)")])]),i("button",{on:{click:t.toggleEvil}},[void 0==t.evilPos&"evil"==t.currentAction?i("span",[t._v("Placement Le Mal (e)")]):void 0==t.evilPos?i("span",[t._v("Placer Le Mal (e)")]):i("span",[t._v("Retirer Le Mal (e)")])]),i("button",{on:{click:t.toggleBuilding}},["building"==t.currentAction?i("span",[t._v("Placement d'un batiment (b)")]):i("span",[t._v("Placer un batiment (b)")])]),i("button",{on:{click:t.toggleTroll}},["troll"==t.currentAction?i("span",[t._v("Placement d'un troll (t)")]):i("span",[t._v("Placer un troll (t)")])]),i("button",{on:{click:t.toggleRemove}},["remove"==t.currentAction?i("span",[t._v("Suppression une case (r)")]):i("span",[t._v("Supprimer d'une case (r)")])])]),i("div",{staticClass:"cols"},[i("button",{on:{click:t.turn_left}},[t._v("turn left (q)")]),i("button",{on:{click:t.turn_right}},[t._v("turn right (d)")]),i("button",{on:{click:t.destroy_dark_force}},[t._v("destroy dark force (a)")]),i("button",{on:{click:t.move}},[t._v("move (z)")])]),i("div",{staticClass:"cols"},[i("button",{on:{click:t.resolve}},[t._v("Resolve")]),i("select",{attrs:{name:"map",id:"map"},on:{change:t.chooseMap}},[i("option",{attrs:{value:"clear"}},[t._v("Vide")]),i("option",{attrs:{value:"map1"}},[t._v("Map 1")]),i("option",{attrs:{value:"map2"}},[t._v("Map 2")]),i("option",{attrs:{value:"map3"}},[t._v("Map 3")]),i("option",{attrs:{value:"map4"}},[t._v("Obstacle 1")]),i("option",{attrs:{value:"map5"}},[t._v("Obstacle 2")]),i("option",{attrs:{value:"map6"}},[t._v("Obstacle 3")]),i("option",{attrs:{value:"map7"}},[t._v("Obstacle 4")])])])])},o=[],s=i("1da1"),a=(i("96cf"),i("d3b7"),i("d81d"),i("cb29"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["blank"==t.content?i("div",{staticClass:"content blank"}):"troll"==t.content?i("div",{staticClass:"content troll"}):"building"==t.content?i("div",{staticClass:"content building"}):"potter"==t.content&"east"==t.direction?i("div",{staticClass:"content potter"}):"potter"==t.content&"north"==t.direction?i("div",{staticClass:"content potter north"}):"potter"==t.content&"west"==t.direction?i("div",{staticClass:"content potter west"}):"potter"==t.content&"south"==t.direction?i("div",{staticClass:"content potter south"}):"evil"==t.content?i("div",{staticClass:"content evil"}):t._e()])}),l=[],c={name:"Case",props:{content:String,direction:String}},u=c,d=(i("07c9"),i("2877")),h=Object(d["a"])(u,a,l,!1,null,"13d8370c",null),p=h.exports,g={name:"App",components:{Case:p},data:function(){return{board:[],potterPos:void 0,evilPos:void 0,currentAction:void 0,currentDirection:1,directions:["north","east","south","west"],mouvementDirection:{north:{x:-1,y:0},east:{x:0,y:1},south:{x:1,y:0},west:{x:0,y:-1}},nOp:1}},methods:{pressed:function(t,e){switch(this.currentAction){case"potter":"blank"!=this.board[t][e]?alert("Il y a déjà quelque chose sur la case"):(this.potterPos={x:t,y:e},this.board[t][e]="potter",this.currentAction=void 0);break;case"evil":"blank"!=this.board[t][e]?alert("Il y a déjà quelque chose sur la case"):(this.evilPos={x:t,y:e},this.board[t][e]="evil",this.currentAction=void 0);break;case"building":"blank"!=this.board[t][e]?alert("Il y a déjà quelque chose sur la case"):(this.board[t][e]="building",this.currentAction=void 0);break;case"troll":"blank"!=this.board[t][e]?alert("Il y a déjà quelque chose sur la case"):(this.board[t][e]="troll",this.currentAction=void 0);break;case"remove":switch(this.board[t][e]){case"potter":this.potterPos=void 0;break;case"evil":this.evilPos=void 0;break;default:break}this.board[t][e]="blank",this.currentAction=void 0;break;default:break}},togglePotter:function(){"potter"==this.currentAction?this.currentAction=void 0:void 0==this.potterPos?this.currentAction="potter":(this.board[this.get_x()][this.get_y()]="blank",this.potterPos=void 0)},toggleEvil:function(){"evil"==this.currentAction?this.currentAction=void 0:void 0==this.evilPos?this.currentAction="evil":(this.board[this.get_target_x()][this.get_target_y()]="blank",this.evilPos=void 0)},toggleBuilding:function(){this.currentAction=void 0==this.currentAction?"building":void 0},toggleTroll:function(){this.currentAction=void 0==this.currentAction?"troll":void 0},toggleRemove:function(){this.currentAction=void 0==this.currentAction?"remove":void 0},chooseMap:function(t){switch(t.srcElement.value){case"clear":this.clearMap();break;case"map1":this.setupMap1();break;case"map2":this.setupMap2();break;case"map3":this.setupMap3();break;case"map4":this.setupMap4();break;case"map5":this.setupMap5();break;case"map6":this.setupMap6();break;case"map7":this.setupMap7();break;default:break}},turn_left:function(){this.currentDirection=(this.currentDirection+3)%4},turn_right:function(){this.currentDirection=(this.currentDirection+1)%4},get_direction:function(){return this.directions[this.currentDirection]},get_mouvementDirection:function(){return this.mouvementDirection[this.get_direction()]},setRandomDirection:function(){this.currentDirection=Math.floor(4*Math.random())},get_x:function(){if(void 0==this.potterPos)throw Error("Potter not placed");return this.potterPos.x},get_y:function(){if(void 0==this.potterPos)throw Error("Potter not placed");return this.potterPos.y},get_target_x:function(){if(void 0==this.evilPos)throw Error("Evil not placed");return this.evilPos.x},get_target_y:function(){if(void 0==this.evilPos)throw Error("Evil not placed");return this.evilPos.y},is_on_target:function(){return this.get_x()==this.get_target_x()&&this.get_y()==this.get_target_y()},destroy_dark_force:function(){this.is_on_target()?(alert("Bravo, vous avez vaincu le mal"),this.evilPos=void 0):alert("Vous n'avez pas toucher le mal")},get_new_positions:function(){return{x:this.get_x()+this.get_mouvementDirection().x,y:this.get_y()+this.get_mouvementDirection().y}},on_next_case:function(){var t=this.get_new_positions();return t.x<0||t.x>11||t.y<0||t.y>15?"void":this.board[t.x][t.y]},can_move:function(){var t=this.on_next_case();return"building"!=t&&"void"!=t},is_in_front_of_enemy:function(){return"troll"==this.on_next_case()},kill_potter:function(){this.board[this.get_x()][this.get_y()]="blank",this.potterPos=void 0},move:function(){switch(this.on_next_case()){case"building":return void alert("Vous ne pouvez pas vous déplacer sur un batiment");case"troll":return this.kill_potter(),void alert("Vous êtes mort");case"void":return this.kill_potter(),void alert("Vous êtes tombé dans le vide intersidéral");default:this.is_on_target()?this.board[this.get_x()][this.get_y()]="evil":this.board[this.get_x()][this.get_y()]="blank",this.potterPos=this.get_new_positions(),this.board[this.get_x()][this.get_y()]="potter";break}},sleep:function(t){return new Promise((function(e){return setTimeout(e,t)}))},resolve:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n,r,o,s,a,l,c,u,d,h,p,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!=t.potterPos&&void 0!=t.evilPos){e.next=2;break}return e.abrupt("return");case 2:i=Array(12).fill(null).map((function(){return Array(16).fill(!1)})),n=Array(12).fill(null).map((function(){return Array(16).fill(void 0)})),r=[],r.push({x:t.get_x(),y:t.get_y()});case 6:if(!(r.length>0)){e.next=13;break}if(o=r.shift(),o.x!=t.get_target_x()||o.y!=t.get_target_y()){e.next=10;break}return e.abrupt("break",13);case 10:for(s in t.mouvementDirection)a=t.mouvementDirection[s],l=a.x+o.x,c=a.y+o.y,l<0||l>11||c<0||c>15||"blank"!=t.board[l][c]&&"evil"!=t.board[l][c]||i[l][c]||(r.push({x:l,y:c}),i[l][c]=!0,n[l][c]=o);e.next=6;break;case 13:u=[],d={x:t.get_target_x(),y:t.get_target_y()};while(void 0!=n[d.x][d.y])u.unshift(d),d=n[d.x][d.y];h=0;case 17:if(!(h<u.length)){e.next=43;break}if(p=u[h],g={x:p.x-t.get_x(),y:p.y-t.get_y()},g.x!=t.get_mouvementDirection().x||g.y!=t.get_mouvementDirection().y){e.next=24;break}console.log("same pos"),e.next=36;break;case 24:if(Math.abs(g.x)!=Math.abs(t.get_mouvementDirection().x)||Math.abs(g.y)!=Math.abs(t.get_mouvementDirection().y)){e.next=33;break}return t.turn_right(),e.next=28,t.sleep(500);case 28:return t.turn_right(),e.next=31,t.sleep(500);case 31:e.next=36;break;case 33:while(g.x!=t.get_mouvementDirection().x||g.y!=t.get_mouvementDirection().y)t.turn_right();return e.next=36,t.sleep(500);case 36:return t.setOnBoard(t.get_x(),t.get_y(),"blank"),t.setOnBoard(p.x,p.y,"potter"),e.next=40,t.sleep(500);case 40:h++,e.next=17;break;case 43:t.destroy_dark_force();case 44:case"end":return e.stop()}}),e)})))()},setOnBoard:function(t,e,i){"potter"==i&&(this.potterPos={x:t,y:e}),"evil"==i&&(this.evilPos={x:t,y:e}),this.board[t][e]=i},setRectangleOnBoard:function(t,e,i,n,r){if(t>i||e>n)throw Error("Avoid infinite loop");for(var o=t;o<=i;o++)for(var s=e;s<=n;s++)this.setOnBoard(o,s,r)},clearMap:function(){this.board=Array(12).fill(null).map((function(){return Array(16).fill("blank")}))},setupMap1:function(){this.clearMap(),this.currentDirection=1,this.setOnBoard(8,10,"potter"),this.setOnBoard(4,3,"evil"),this.setOnBoard(2,1,"building"),this.setOnBoard(7,1,"building"),this.setOnBoard(3,5,"building"),this.setOnBoard(9,5,"building"),this.setOnBoard(3,8,"building"),this.setOnBoard(5,8,"building"),this.setOnBoard(10,8,"building"),this.setOnBoard(1,12,"building"),this.setOnBoard(10,12,"building"),this.setOnBoard(4,13,"building"),this.setOnBoard(8,14,"building"),this.setOnBoard(10,2,"troll"),this.setOnBoard(6,4,"troll"),this.setOnBoard(1,6,"troll"),this.setOnBoard(7,6,"troll"),this.setOnBoard(1,9,"troll"),this.setOnBoard(5,11,"troll"),this.setOnBoard(2,14,"troll")},setupMap2:function(){this.clearMap(),this.setRandomDirection(),this.setOnBoard(6,0,"potter"),this.setOnBoard(6,15,"evil"),this.setOnBoard(10,1,"building"),this.setOnBoard(6,2,"building"),this.setOnBoard(1,3,"building"),this.setOnBoard(8,3,"building"),this.setOnBoard(4,4,"building"),this.setOnBoard(3,7,"building"),this.setOnBoard(9,7,"building"),this.setOnBoard(6,8,"building"),this.setOnBoard(4,10,"building"),this.setOnBoard(2,11,"building"),this.setOnBoard(8,12,"building"),this.setOnBoard(5,13,"building"),this.setOnBoard(1,14,"building"),this.setOnBoard(10,14,"building")},setupMap3:function(){this.clearMap(),this.currentDirection=1,this.setOnBoard(4,3,"potter"),this.setOnBoard(9,11,"evil"),this.setOnBoard(5,1,"building"),this.setOnBoard(9,1,"building"),this.setOnBoard(10,1,"building"),this.setOnBoard(1,2,"building"),this.setOnBoard(3,2,"building"),this.setOnBoard(3,3,"building"),this.setOnBoard(5,3,"building"),this.setRectangleOnBoard(7,3,9,3,"building"),this.setOnBoard(2,5,"building"),this.setRectangleOnBoard(4,5,6,5,"building"),this.setRectangleOnBoard(3,7,3,9,"building"),this.setOnBoard(5,7,"building"),this.setRectangleOnBoard(7,7,10,7,"building"),this.setOnBoard(1,8,"building"),this.setRectangleOnBoard(6,9,6,12,"building"),this.setOnBoard(8,9,"building"),this.setOnBoard(10,10,"building"),this.setRectangleOnBoard(1,11,4,11,"building"),this.setOnBoard(10,11,"building"),this.setOnBoard(2,13,"building"),this.setOnBoard(8,13,"building"),this.setOnBoard(9,13,"building"),this.setOnBoard(4,14,"building")},setupMap4:function(){this.clearMap(),this.currentDirection=1,this.setOnBoard(6,6,"potter"),this.setOnBoard(6,8,"evil"),this.setRectangleOnBoard(4,7,8,7,"building")},setupMap5:function(){this.clearMap(),this.currentDirection=1,this.setOnBoard(4,6,"potter"),this.setOnBoard(6,10,"evil"),this.setOnBoard(6,6,"building"),this.setOnBoard(6,8,"building"),this.setOnBoard(4,10,"building"),this.setOnBoard(8,10,"building")},setupMap6:function(){this.clearMap(),this.currentDirection=1,this.setOnBoard(6,3,"potter"),this.setRectangleOnBoard(6,6,6,10,"building"),this.setRectangleOnBoard(1,8,4,8,"building"),this.setOnBoard(2,8,"evil")},setupMap7:function(){this.clearMap(),this.currentDirection=1,this.setOnBoard(6,3,"potter"),this.setRectangleOnBoard(6,4,6,10,"building"),this.setOnBoard(3,7,"building"),this.setOnBoard(4,7,"building"),this.setOnBoard(8,7,"building"),this.setOnBoard(9,7,"building"),this.setOnBoard(6,7,"evil")}},beforeMount:function(){this.clearMap()},mounted:function(){var t=this;window.addEventListener("keypress",(function(e){switch(e.key){case"z":t.move();break;case"q":t.turn_left();break;case"d":t.turn_right();break;case"a":t.destroy_dark_force();break;case"b":t.toggleBuilding();break;case"t":t.toggleTroll();break;case"h":t.togglePotter();break;case"e":t.toggleEvil();break;case"r":t.toggleRemove();break;default:break}}))}},b=g,v=(i("034f"),Object(d["a"])(b,r,o,!1,null,null,null)),f=v.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(f)}}).$mount("#app")},"85ec":function(t,e,i){},e500:function(t,e,i){}});
//# sourceMappingURL=app.727ee5e5.js.map